<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="An LMDB environment which has been opened to a file."><meta name="keywords" content="rust, rustlang, rust-lang, Environment"><title>Environment in lmdb_zero - Rust</title><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../ayu.css" disabled ><script id="default-settings" ></script><script src="../storage.js"></script><script src="../crates.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../favicon.svg"><style type="text/css">#crate-search{background-image:url("../down-arrow.svg");}</style></head><body class="rustdoc struct"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../lmdb_zero/index.html'><div class='logo-container rust-logo'><img src='../rust-logo.png' alt='logo'></div></a><h2 class="location">Struct Environment</h2><div class="sidebar-elems"><div class="block items"><h3 class="sidebar-title"><a href="#implementations">Methods</a></h3><div class="sidebar-links"><a href="#method.as_raw">as_raw</a><a href="#method.borrow_raw">borrow_raw</a><a href="#method.copy">copy</a><a href="#method.copyfd">copyfd</a><a href="#method.fd">fd</a><a href="#method.flags">flags</a><a href="#method.from_raw">from_raw</a><a href="#method.info">info</a><a href="#method.into_raw">into_raw</a><a href="#method.maxkeysize">maxkeysize</a><a href="#method.maxreaders">maxreaders</a><a href="#method.path">path</a><a href="#method.reader_check">reader_check</a><a href="#method.set_flags">set_flags</a><a href="#method.set_mapsize">set_mapsize</a><a href="#method.stat">stat</a><a href="#method.sync">sync</a></div><h3 class="sidebar-title"><a href="#trait-implementations">Trait Implementations</a></h3><div class="sidebar-links"><a href="#impl-Debug">Debug</a></div><h3 class="sidebar-title"><a href="#synthetic-implementations">Auto Trait Implementations</a></h3><div class="sidebar-links"><a href="#impl-RefUnwindSafe">RefUnwindSafe</a><a href="#impl-Send">Send</a><a href="#impl-Sync">Sync</a><a href="#impl-Unpin">Unpin</a><a href="#impl-UnwindSafe">UnwindSafe</a></div><h3 class="sidebar-title"><a href="#blanket-implementations">Blanket Implementations</a></h3><div class="sidebar-links"><a href="#impl-Any">Any</a><a href="#impl-Borrow%3CT%3E">Borrow&lt;T&gt;</a><a href="#impl-BorrowMut%3CT%3E">BorrowMut&lt;T&gt;</a><a href="#impl-From%3CT%3E">From&lt;T&gt;</a><a href="#impl-Into%3CU%3E">Into&lt;U&gt;</a><a href="#impl-SafeBorrow%3CT%3E">SafeBorrow&lt;T&gt;</a><a href="#impl-TryFrom%3CU%3E">TryFrom&lt;U&gt;</a><a href="#impl-TryInto%3CU%3E">TryInto&lt;U&gt;</a></div></div><h2 class="location">Other items in<br><a href="index.html">lmdb_zero</a></h2><div id="sidebar-vars" data-name="Environment" data-ty="struct" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="18" height="18" alt="Pick another theme!" src="../brush.svg"></button><div id="theme-choices" role="menu"></div></div><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../settings.html" title="settings"><img width="18" height="18" alt="Change settings" src="../wheel.svg"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Struct <a href="index.html">lmdb_zero</a>::<wbr><a class="struct" href="#">Environment</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../src/lmdb_zero/env.rs.html#284-289" title="goto source code">[src]</a></span></h1><div class="docblock type-decl"><pre class="rust struct"><code>pub struct Environment { /* fields omitted */ }</code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>An LMDB environment which has been opened to a file.</p>
</div></details><h2 id="implementations" class="small-section-header">Implementations<a href="#implementations" class="anchor"></a></h2><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../src/lmdb_zero/env.rs.html#338-652" title="goto source code">[src]</a></div><a href="#impl" class="anchor"></a><h3 class="code-header in-band">impl <a class="struct" href="struct.Environment.html" title="struct lmdb_zero::Environment">Environment</a></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.from_raw" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/lmdb_zero/env.rs.html#357-362" title="goto source code">[src]</a></div><a href="#method.from_raw" class="anchor"></a><h4 class="code-header">pub unsafe fn <a href="#method.from_raw" class="fnname">from_raw</a>(env: <a class="primitive" href="https://doc.rust-lang.org/1.56.1/std/primitive.pointer.html">*mut </a><a class="enum" href="../liblmdb_sys/enum.MDB_env.html" title="enum liblmdb_sys::MDB_env">MDB_env</a>) -&gt; Self</h4></div></summary><div class="docblock"><p>Wrap a raw LMDB environment handle in an <code>Environment</code>.</p>
<p>The <code>Environment</code> assumes ownership of the <code>MDB_env</code>. If you do not
want this, see <a href="#method.borrow_raw"><code>borrow_raw()</code></a> instead.</p>
<h2 id="unsafety" class="section-header"><a href="#unsafety">Unsafety</a></h2>
<p><code>env</code> must point to a valid <code>MDB_env</code>.</p>
<p>It is the caller’s responsibility to ensure that nothing destroys the
<code>MDB_env</code> before <a href="#method.into_raw"><code>into_raw()</code></a> is called, and that
nothing attempts to use the <code>MDB_env</code> after <code>Environment</code> is dropped
normally.</p>
<p>It is safe for multiple <code>Environment</code>s bound to the same <code>MDB_env</code> to
coexist (though the others would need to be created by <code>borrow_raw</code>).
However, care must be taken when using databases since by default the
<code>Environment</code> will assume ownership of those as well.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.borrow_raw" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/lmdb_zero/env.rs.html#382-387" title="goto source code">[src]</a></div><a href="#method.borrow_raw" class="anchor"></a><h4 class="code-header">pub unsafe fn <a href="#method.borrow_raw" class="fnname">borrow_raw</a>(env: <a class="primitive" href="https://doc.rust-lang.org/1.56.1/std/primitive.pointer.html">*mut </a><a class="enum" href="../liblmdb_sys/enum.MDB_env.html" title="enum liblmdb_sys::MDB_env">MDB_env</a>) -&gt; Self</h4></div></summary><div class="docblock"><p>Wrap a raw LMDB environment handle in an <code>Environment</code> without taking
ownership.</p>
<p>The <code>Environment</code> does not assume ownership of the <code>MDB_env</code>, and will
not destroy it when it is dropped. See <a href="#method.from_raw"><code>from_raw()</code></a>
if taking ownership is desired.</p>
<p>Note that this does not affect assumed ownership of <code>MDB_dbi</code> handles;
databases opened by <code>Database::open</code> are still presumed owned.</p>
<h2 id="unsafety-1" class="section-header"><a href="#unsafety-1">Unsafety</a></h2>
<p><code>env</code> must point to a valid <code>MDB_env</code>.</p>
<p>It is safe for multiple <code>Environment</code>s bound to the same <code>MDB_env</code> to
coexist (though the others would need to be created by <code>borrow_raw</code>).
However, care must be taken when using databases since by default the
<code>Environment</code> will assume ownership of those as well.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.as_raw" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/lmdb_zero/env.rs.html#398-400" title="goto source code">[src]</a></div><a href="#method.as_raw" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.as_raw" class="fnname">as_raw</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.56.1/std/primitive.pointer.html">*mut </a><a class="enum" href="../liblmdb_sys/enum.MDB_env.html" title="enum liblmdb_sys::MDB_env">MDB_env</a></h4></div></summary><div class="docblock"><p>Return the underlying <code>MDB_env</code> handle.</p>
<h2 id="safety" class="section-header"><a href="#safety">Safety</a></h2>
<p>While this call is in and of itself safe, the caller must ensure that
operations against the backing store do not violate Rust aliasing
rules, and must not take any action that would cause the <code>MDB_env</code> to
be destroyed prematurely, or to use it after this <code>Environment</code> is
destroyed.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.into_raw" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/lmdb_zero/env.rs.html#414-418" title="goto source code">[src]</a></div><a href="#method.into_raw" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.into_raw" class="fnname">into_raw</a>(self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.56.1/std/primitive.pointer.html">*mut </a><a class="enum" href="../liblmdb_sys/enum.MDB_env.html" title="enum liblmdb_sys::MDB_env">MDB_env</a></h4></div></summary><div class="docblock"><p>Consume this <code>Environment</code> and return the underlying handle.</p>
<p>After this call, it is the caller’s responsibility to ensure that the
<code>MDB_env</code> is eventually destroyed, if it was actually owned by this
<code>Environment</code> (compare <a href="#method.from_raw"><code>from_raw</code></a> and
<a href="#method.borrow_raw"><code>borrow_raw</code></a>).</p>
<h2 id="safety-1" class="section-header"><a href="#safety-1">Safety</a></h2>
<p>While this call is in and of itself safe, the caller must ensure that
operations against the backing store do not violate Rust aliasing
rules.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.copy" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/lmdb_zero/env.rs.html#445-452" title="goto source code">[src]</a></div><a href="#method.copy" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.copy" class="fnname">copy</a>(&amp;self, path: &amp;<a class="primitive" href="https://doc.rust-lang.org/1.56.1/std/primitive.str.html">str</a>, flags: <a class="struct" href="copy/struct.Flags.html" title="struct lmdb_zero::copy::Flags">Flags</a>) -&gt; <a class="type" href="error/type.Result.html" title="type lmdb_zero::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.56.1/std/primitive.unit.html">()</a>&gt;</h4></div></summary><div class="docblock"><p>Copy an LMDB environment to the specified path, with options.</p>
<p>This function may be used to make a backup of an existing environment.
No lockfile is created, since it gets recreated at need.</p>
<h2 id="note" class="section-header"><a href="#note">Note</a></h2>
<p>This call can trigger significant file size growth if run in parallel
with write transactions, because it employs a read-only transaction.
See long-lived transactions under Caveats.</p>
<h2 id="example" class="section-header"><a href="#example">Example</a></h2>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let</span> <span class="ident">out</span> <span class="op">=</span> <span class="ident">tempdir::TempDir::new_in</span>(<span class="string">&quot;.&quot;</span>, <span class="string">&quot;lmdbcopy&quot;</span>).<span class="ident">unwrap</span>();
<span class="ident">env</span>.<span class="ident">copy</span>(<span class="ident">out</span>.<span class="ident">path</span>().<span class="ident">to_str</span>().<span class="ident">unwrap</span>(),
         <span class="ident">lmdb::copy::COMPACT</span>).<span class="ident">unwrap</span>();
<span class="comment">// We could now open up an independent environment in `lmdbcopyXXXX`</span>
<span class="comment">// or upload it somewhere, eg, while `env` could continue being</span>
<span class="comment">// modified concurrently.</span></code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.copyfd" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/lmdb_zero/env.rs.html#465-470" title="goto source code">[src]</a></div><a href="#method.copyfd" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.copyfd" class="fnname">copyfd</a>(&amp;self, fd: <a class="type" href="type.Fd.html" title="type lmdb_zero::Fd">Fd</a>, flags: <a class="struct" href="copy/struct.Flags.html" title="struct lmdb_zero::copy::Flags">Flags</a>) -&gt; <a class="type" href="error/type.Result.html" title="type lmdb_zero::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.56.1/std/primitive.unit.html">()</a>&gt;</h4></div></summary><div class="docblock"><p>Copy an LMDB environment to the specified file descriptor, with options.</p>
<p>This function may be used to make a backup of an existing environment.
No lockfile is created, since it gets recreated at need. See
<code>copy()</code> for further details.</p>
<h2 id="note-1" class="section-header"><a href="#note-1">Note</a></h2>
<p>This call can trigger significant file size growth if run in parallel
with write transactions, because it employs a read-only transaction.
See long-lived transactions under Caveats.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.stat" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/lmdb_zero/env.rs.html#473-480" title="goto source code">[src]</a></div><a href="#method.stat" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.stat" class="fnname">stat</a>(&amp;self) -&gt; <a class="type" href="error/type.Result.html" title="type lmdb_zero::error::Result">Result</a>&lt;<a class="struct" href="struct.Stat.html" title="struct lmdb_zero::Stat">Stat</a>&gt;</h4></div></summary><div class="docblock"><p>Return statistics about the LMDB environment.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.info" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/lmdb_zero/env.rs.html#483-497" title="goto source code">[src]</a></div><a href="#method.info" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.info" class="fnname">info</a>(&amp;self) -&gt; <a class="type" href="error/type.Result.html" title="type lmdb_zero::error::Result">Result</a>&lt;<a class="struct" href="struct.EnvInfo.html" title="struct lmdb_zero::EnvInfo">EnvInfo</a>&gt;</h4></div></summary><div class="docblock"><p>Return information about the LMDB environment.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.sync" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/lmdb_zero/env.rs.html#510-515" title="goto source code">[src]</a></div><a href="#method.sync" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.sync" class="fnname">sync</a>(&amp;self, force: <a class="primitive" href="https://doc.rust-lang.org/1.56.1/std/primitive.bool.html">bool</a>) -&gt; <a class="type" href="error/type.Result.html" title="type lmdb_zero::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.56.1/std/primitive.unit.html">()</a>&gt;</h4></div></summary><div class="docblock"><p>Flush the data buffers to disk.</p>
<p>Data is always written to disk when transactions are committed, but the
operating system may keep it buffered. LMDB always flushes the OS
buffers upon commit as well, unless the environment was opened with
<code>NOSYNC</code> or in part <code>NOMETASYNC</code>. This call is not valid if the
environment was opened with <code>RDONLY</code>.</p>
<p>If <code>force</code> is true, force a synchronous flush. Otherwise if the
environment has the <code>NOSYNC</code> flag set the flushes will be omitted, and
with <code>MAPASYNC</code> they will be asynchronous.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.set_flags" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/lmdb_zero/env.rs.html#552-557" title="goto source code">[src]</a></div><a href="#method.set_flags" class="anchor"></a><h4 class="code-header">pub unsafe fn <a href="#method.set_flags" class="fnname">set_flags</a>(&amp;self, flags: <a class="struct" href="open/struct.Flags.html" title="struct lmdb_zero::open::Flags">Flags</a>, onoff: <a class="primitive" href="https://doc.rust-lang.org/1.56.1/std/primitive.bool.html">bool</a>) -&gt; <a class="type" href="error/type.Result.html" title="type lmdb_zero::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.56.1/std/primitive.unit.html">()</a>&gt;</h4></div></summary><div class="docblock"><p>Set environment flags.</p>
<p>This may be used to set some flags in addition to those from
<code>EnvBuilder::open()</code>, or to unset these flags. If several threads
change the flags at the same time, the result is undefined.</p>
<p><code>flags</code> specifies the flags to edit, not the new status of all flags.
If <code>onoff</code> is true, all flags in <code>flags</code> are set; otherwise, all flags
in <code>flags</code> are cleared.</p>
<h2 id="unsafety-2" class="section-header"><a href="#unsafety-2">Unsafety</a></h2>
<p>The caller must ensure that multiple threads do not call this
concurrently with itself or with <code>get_flags()</code>. This could not be
accomplished by using <code>&amp;mut self</code>, since any open databases necessarily
have the environment borrowed already.</p>
<h2 id="example-1" class="section-header"><a href="#example-1">Example</a></h2>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">unsafe</span> {
  <span class="comment">// Enable the NOMETASYNC and MAPASYNC flags</span>
  <span class="ident">env</span>.<span class="ident">set_flags</span>(<span class="ident">lmdb::open::NOMETASYNC</span> <span class="op">|</span> <span class="ident">lmdb::open::MAPASYNC</span>, <span class="bool-val">true</span>)
    .<span class="ident">unwrap</span>();
  <span class="macro">assert!</span>(<span class="ident">env</span>.<span class="ident">flags</span>().<span class="ident">unwrap</span>().<span class="ident">contains</span>(
    <span class="ident">lmdb::open::NOMETASYNC</span> <span class="op">|</span> <span class="ident">lmdb::open::MAPASYNC</span>));
  <span class="comment">// Turn MAPASYNC back off, leaving NOMETASYNC set</span>
  <span class="ident">env</span>.<span class="ident">set_flags</span>(<span class="ident">lmdb::open::MAPASYNC</span>, <span class="bool-val">false</span>).<span class="ident">unwrap</span>();
  <span class="macro">assert!</span>(<span class="ident">env</span>.<span class="ident">flags</span>().<span class="ident">unwrap</span>().<span class="ident">contains</span>(<span class="ident">lmdb::open::NOMETASYNC</span>));
  <span class="macro">assert!</span>(<span class="op">!</span><span class="ident">env</span>.<span class="ident">flags</span>().<span class="ident">unwrap</span>().<span class="ident">contains</span>(<span class="ident">lmdb::open::MAPASYNC</span>));
}</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.flags" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/lmdb_zero/env.rs.html#560-566" title="goto source code">[src]</a></div><a href="#method.flags" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.flags" class="fnname">flags</a>(&amp;self) -&gt; <a class="type" href="error/type.Result.html" title="type lmdb_zero::error::Result">Result</a>&lt;<a class="struct" href="open/struct.Flags.html" title="struct lmdb_zero::open::Flags">Flags</a>&gt;</h4></div></summary><div class="docblock"><p>Get environment flags.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.path" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/lmdb_zero/env.rs.html#573-582" title="goto source code">[src]</a></div><a href="#method.path" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.path" class="fnname">path</a>(&amp;self) -&gt; <a class="type" href="error/type.Result.html" title="type lmdb_zero::error::Result">Result</a>&lt;&amp;<a class="struct" href="https://doc.rust-lang.org/1.56.1/std/ffi/c_str/struct.CStr.html" title="struct std::ffi::c_str::CStr">CStr</a>&gt;</h4></div></summary><div class="docblock"><p>Return the path that was used in <code>EnvBuilder::open()</code>.</p>
<h2 id="panics" class="section-header"><a href="#panics">Panics</a></h2>
<p>Panics if LMDB returns success but sets the path to a NULL pointer.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.fd" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/lmdb_zero/env.rs.html#590-594" title="goto source code">[src]</a></div><a href="#method.fd" class="anchor"></a><h4 class="code-header">pub unsafe fn <a href="#method.fd" class="fnname">fd</a>(&amp;self) -&gt; <a class="type" href="error/type.Result.html" title="type lmdb_zero::error::Result">Result</a>&lt;<a class="type" href="type.Fd.html" title="type lmdb_zero::Fd">Fd</a>&gt;</h4></div></summary><div class="docblock"><p>Return the filedescriptor for the given environment.</p>
<h2 id="unsafety-3" class="section-header"><a href="#unsafety-3">Unsafety</a></h2>
<p>The caller must ensure that the file descriptor is not used to subvert
normal LMDB functionality, such as by writing to it or closing it.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.set_mapsize" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/lmdb_zero/env.rs.html#618-621" title="goto source code">[src]</a></div><a href="#method.set_mapsize" class="anchor"></a><h4 class="code-header">pub unsafe fn <a href="#method.set_mapsize" class="fnname">set_mapsize</a>(&amp;self, size: <a class="primitive" href="https://doc.rust-lang.org/1.56.1/std/primitive.usize.html">usize</a>) -&gt; <a class="type" href="error/type.Result.html" title="type lmdb_zero::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.56.1/std/primitive.unit.html">()</a>&gt;</h4></div></summary><div class="docblock"><p>Set the size of the memory map to use for this environment.</p>
<p>The size should be a multiple of the OS page size. The default is
10485760 bytes. The size of the memory map is also the maximum size of
the database. The value should be chosen as large as possible, to
accommodate future growth of the database.</p>
<p>The new size takes effect immediately for the current process but will
not be persisted to any others until a write transaction has been
committed by the current process. Also, only mapsize increases are
persisted into the environment.</p>
<p>If the mapsize is increased by another process, and data has grown
beyond the range of the current mapsize, starting a transaction will
return <code>error::MAP_RESIZED</code>. This function may be called with a size of
zero to adopt the new size.</p>
<h2 id="unsafety-4" class="section-header"><a href="#unsafety-4">Unsafety</a></h2>
<p>This may only be called if no transactions are active in the current
process. Note that the library does not check for this condition, the
caller must ensure it explicitly.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.maxreaders" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/lmdb_zero/env.rs.html#624-630" title="goto source code">[src]</a></div><a href="#method.maxreaders" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.maxreaders" class="fnname">maxreaders</a>(&amp;self) -&gt; <a class="type" href="error/type.Result.html" title="type lmdb_zero::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.56.1/std/primitive.u32.html">u32</a>&gt;</h4></div></summary><div class="docblock"><p>Get the maximum number of threads/reader slots for the environment.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.maxkeysize" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/lmdb_zero/env.rs.html#636-640" title="goto source code">[src]</a></div><a href="#method.maxkeysize" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.maxkeysize" class="fnname">maxkeysize</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.56.1/std/primitive.u32.html">u32</a></h4></div></summary><div class="docblock"><p>Get the maximum size of keys and <code>DUPSORT</code> data we can write.</p>
<p>Depends on the compile-time constant <code>MDB_MAXKEYSIZE</code> in LMDB.
Default 511.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.reader_check" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/lmdb_zero/env.rs.html#645-651" title="goto source code">[src]</a></div><a href="#method.reader_check" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.reader_check" class="fnname">reader_check</a>(&amp;self) -&gt; <a class="type" href="error/type.Result.html" title="type lmdb_zero::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.56.1/std/primitive.i32.html">i32</a>&gt;</h4></div></summary><div class="docblock"><p>Check for stale entries in the reader lock table.</p>
<p>Returns the number of stale slots that were cleared.</p>
</div></details></div></details><h2 id="trait-implementations" class="small-section-header">Trait Implementations<a href="#trait-implementations" class="anchor"></a></h2><div id="trait-implementations-list"><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-Debug" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../src/lmdb_zero/env.rs.html#283" title="goto source code">[src]</a></div><a href="#impl-Debug" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="https://doc.rust-lang.org/1.56.1/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a> for <a class="struct" href="struct.Environment.html" title="struct lmdb_zero::Environment">Environment</a></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.fmt" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../src/lmdb_zero/env.rs.html#283" title="goto source code">[src]</a></div><a href="#method.fmt" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.56.1/core/fmt/trait.Debug.html#tymethod.fmt" class="fnname">fmt</a>(&amp;self, f: &amp;mut <a class="struct" href="https://doc.rust-lang.org/1.56.1/core/fmt/struct.Formatter.html" title="struct core::fmt::Formatter">Formatter</a>&lt;'_&gt;) -&gt; <a class="type" href="https://doc.rust-lang.org/1.56.1/core/fmt/type.Result.html" title="type core::fmt::Result">Result</a></h4></div></summary><div class='docblock'><p>Formats the value using the given formatter. <a href="https://doc.rust-lang.org/1.56.1/core/fmt/trait.Debug.html#tymethod.fmt">Read more</a></p>
</div></details></div></details></div><h2 id="synthetic-implementations" class="small-section-header">Auto Trait Implementations<a href="#synthetic-implementations" class="anchor"></a></h2><div id="synthetic-implementations-list"><div id="impl-RefUnwindSafe" class="impl has-srclink"><div class="rightside"></div><a href="#impl-RefUnwindSafe" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="https://doc.rust-lang.org/1.56.1/core/panic/unwind_safe/trait.RefUnwindSafe.html" title="trait core::panic::unwind_safe::RefUnwindSafe">RefUnwindSafe</a> for <a class="struct" href="struct.Environment.html" title="struct lmdb_zero::Environment">Environment</a></h3></div><div id="impl-Send" class="impl has-srclink"><div class="rightside"></div><a href="#impl-Send" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="https://doc.rust-lang.org/1.56.1/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> for <a class="struct" href="struct.Environment.html" title="struct lmdb_zero::Environment">Environment</a></h3></div><div id="impl-Sync" class="impl has-srclink"><div class="rightside"></div><a href="#impl-Sync" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="https://doc.rust-lang.org/1.56.1/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> for <a class="struct" href="struct.Environment.html" title="struct lmdb_zero::Environment">Environment</a></h3></div><div id="impl-Unpin" class="impl has-srclink"><div class="rightside"></div><a href="#impl-Unpin" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="https://doc.rust-lang.org/1.56.1/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> for <a class="struct" href="struct.Environment.html" title="struct lmdb_zero::Environment">Environment</a></h3></div><div id="impl-UnwindSafe" class="impl has-srclink"><div class="rightside"></div><a href="#impl-UnwindSafe" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="https://doc.rust-lang.org/1.56.1/core/panic/unwind_safe/trait.UnwindSafe.html" title="trait core::panic::unwind_safe::UnwindSafe">UnwindSafe</a> for <a class="struct" href="struct.Environment.html" title="struct lmdb_zero::Environment">Environment</a></h3></div></div><h2 id="blanket-implementations" class="small-section-header">Blanket Implementations<a href="#blanket-implementations" class="anchor"></a></h2><div id="blanket-implementations-list"><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-Any" class="impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.56.1/src/core/any.rs.html#132-136" title="goto source code">[src]</a></div><a href="#impl-Any" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.56.1/core/any/trait.Any.html" title="trait core::any::Any">Any</a> for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: 'static + ?<a class="trait" href="https://doc.rust-lang.org/1.56.1/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.type_id" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.56.1/src/core/any.rs.html#133" title="goto source code">[src]</a></div><a href="#method.type_id" class="anchor"></a><h4 class="code-header">pub fn <a href="https://doc.rust-lang.org/1.56.1/core/any/trait.Any.html#tymethod.type_id" class="fnname">type_id</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.56.1/core/any/struct.TypeId.html" title="struct core::any::TypeId">TypeId</a></h4></div></summary><div class='docblock'><p>Gets the <code>TypeId</code> of <code>self</code>. <a href="https://doc.rust-lang.org/1.56.1/core/any/trait.Any.html#tymethod.type_id">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-Borrow%3CT%3E" class="impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.56.1/src/core/borrow.rs.html#208-213" title="goto source code">[src]</a></div><a href="#impl-Borrow%3CT%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.56.1/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;T&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: ?<a class="trait" href="https://doc.rust-lang.org/1.56.1/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.borrow" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.56.1/src/core/borrow.rs.html#210" title="goto source code">[src]</a></div><a href="#method.borrow" class="anchor"></a><h4 class="code-header">pub fn <a href="https://doc.rust-lang.org/1.56.1/core/borrow/trait.Borrow.html#tymethod.borrow" class="fnname">borrow</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.56.1/std/primitive.reference.html">&amp;</a>T</h4></div></summary><div class='docblock'><p>Immutably borrows from an owned value. <a href="https://doc.rust-lang.org/1.56.1/core/borrow/trait.Borrow.html#tymethod.borrow">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-BorrowMut%3CT%3E" class="impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.56.1/src/core/borrow.rs.html#216-220" title="goto source code">[src]</a></div><a href="#impl-BorrowMut%3CT%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.56.1/core/borrow/trait.BorrowMut.html" title="trait core::borrow::BorrowMut">BorrowMut</a>&lt;T&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: ?<a class="trait" href="https://doc.rust-lang.org/1.56.1/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.borrow_mut" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.56.1/src/core/borrow.rs.html#217" title="goto source code">[src]</a></div><a href="#method.borrow_mut" class="anchor"></a><h4 class="code-header">pub fn <a href="https://doc.rust-lang.org/1.56.1/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut" class="fnname">borrow_mut</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.56.1/std/primitive.reference.html">&amp;mut </a>T</h4></div></summary><div class='docblock'><p>Mutably borrows from an owned value. <a href="https://doc.rust-lang.org/1.56.1/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-From%3CT%3E" class="impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.56.1/src/core/convert/mod.rs.html#546-550" title="goto source code">[src]</a></div><a href="#impl-From%3CT%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.56.1/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt; for T</h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.from" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.56.1/src/core/convert/mod.rs.html#547" title="goto source code">[src]</a></div><a href="#method.from" class="anchor"></a><h4 class="code-header">pub fn <a href="https://doc.rust-lang.org/1.56.1/core/convert/trait.From.html#tymethod.from" class="fnname">from</a>(t: T) -&gt; T</h4></div></summary><div class='docblock'><p>Performs the conversion.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-Into%3CU%3E" class="impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.56.1/src/core/convert/mod.rs.html#535-542" title="goto source code">[src]</a></div><a href="#impl-Into%3CU%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/1.56.1/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;U&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/1.56.1/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt;,&nbsp;</span></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.into" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.56.1/src/core/convert/mod.rs.html#539" title="goto source code">[src]</a></div><a href="#method.into" class="anchor"></a><h4 class="code-header">pub fn <a href="https://doc.rust-lang.org/1.56.1/core/convert/trait.Into.html#tymethod.into" class="fnname">into</a>(self) -&gt; U</h4></div></summary><div class='docblock'><p>Performs the conversion.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-SafeBorrow%3CT%3E" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../src/supercow/ext.rs.html#138-140" title="goto source code">[src]</a></div><a href="#impl-SafeBorrow%3CT%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="../supercow/ext/trait.SafeBorrow.html" title="trait supercow::ext::SafeBorrow">SafeBorrow</a>&lt;T&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: ?<a class="trait" href="https://doc.rust-lang.org/1.56.1/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.borrow_replacement" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../src/supercow/ext.rs.html#139" title="goto source code">[src]</a></div><a href="#method.borrow_replacement" class="anchor"></a><h4 class="code-header">pub fn <a href="../supercow/ext/trait.SafeBorrow.html#tymethod.borrow_replacement" class="fnname">borrow_replacement</a>(ptr: <a class="primitive" href="https://doc.rust-lang.org/1.56.1/std/primitive.reference.html">&amp;</a>T) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.56.1/std/primitive.reference.html">&amp;</a>T</h4></div></summary><div class='docblock'><p>Given <code>ptr</code>, which was obtained from a prior call to <code>Self::borrow()</code>,
return a value with the same nominal lifetime which is guaranteed to
survive mutations to <code>Self</code>. <a href="../supercow/ext/trait.SafeBorrow.html#tymethod.borrow_replacement">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-TryFrom%3CU%3E" class="impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.56.1/src/core/convert/mod.rs.html#583-592" title="goto source code">[src]</a></div><a href="#impl-TryFrom%3CU%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/1.56.1/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/1.56.1/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;T&gt;,&nbsp;</span></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle" open><summary><div id="associatedtype.Error" class="type trait-impl has-srclink"><a href="#associatedtype.Error" class="anchor"></a><h4 class="code-header">type <a href="https://doc.rust-lang.org/1.56.1/core/convert/trait.TryFrom.html#associatedtype.Error" class="type">Error</a> = <a class="enum" href="https://doc.rust-lang.org/1.56.1/core/convert/enum.Infallible.html" title="enum core::convert::Infallible">Infallible</a></h4></div></summary><div class='docblock'><p>The type returned in the event of a conversion error.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.try_from" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.56.1/src/core/convert/mod.rs.html#589" title="goto source code">[src]</a></div><a href="#method.try_from" class="anchor"></a><h4 class="code-header">pub fn <a href="https://doc.rust-lang.org/1.56.1/core/convert/trait.TryFrom.html#tymethod.try_from" class="fnname">try_from</a>(value: U) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.56.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;T, &lt;T as <a class="trait" href="https://doc.rust-lang.org/1.56.1/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt;&gt;::<a class="type" href="https://doc.rust-lang.org/1.56.1/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></div></summary><div class='docblock'><p>Performs the conversion.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-TryInto%3CU%3E" class="impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.56.1/src/core/convert/mod.rs.html#569-578" title="goto source code">[src]</a></div><a href="#impl-TryInto%3CU%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/1.56.1/core/convert/trait.TryInto.html" title="trait core::convert::TryInto">TryInto</a>&lt;U&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/1.56.1/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;,&nbsp;</span></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle" open><summary><div id="associatedtype.Error-1" class="type trait-impl has-srclink"><a href="#associatedtype.Error-1" class="anchor"></a><h4 class="code-header">type <a href="https://doc.rust-lang.org/1.56.1/core/convert/trait.TryInto.html#associatedtype.Error" class="type">Error</a> = &lt;U as <a class="trait" href="https://doc.rust-lang.org/1.56.1/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="type" href="https://doc.rust-lang.org/1.56.1/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a></h4></div></summary><div class='docblock'><p>The type returned in the event of a conversion error.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.try_into" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.56.1/src/core/convert/mod.rs.html#575" title="goto source code">[src]</a></div><a href="#method.try_into" class="anchor"></a><h4 class="code-header">pub fn <a href="https://doc.rust-lang.org/1.56.1/core/convert/trait.TryInto.html#tymethod.try_into" class="fnname">try_into</a>(self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.56.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;U, &lt;U as <a class="trait" href="https://doc.rust-lang.org/1.56.1/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="type" href="https://doc.rust-lang.org/1.56.1/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></div></summary><div class='docblock'><p>Performs the conversion.</p>
</div></details></div></details></div></section><section id="search" class="content hidden"></section><div id="rustdoc-vars" data-root-path="../" data-current-crate="lmdb_zero" data-search-index-js="../search-index.js" data-search-js="../search.js"></div>
    <script src="../main.js"></script>
</body></html>